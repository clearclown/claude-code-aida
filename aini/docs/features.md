# AINI Features

## Overview

AINIは3つのメインビューと複数のサポート機能を提供します。

---

## Main Views

### 1. Kanban Board

**目的**: タスクの視覚的な管理

```
┌───────────────────────────────────────────────────────────────┐
│ 🎯 Project: my-awesome-app                    [+ Add Task] ⚙️ │
├─────────────────┬─────────────────┬─────────────────┬─────────┤
│    📝 To Do     │  🚀 In Progress │     ✅ Done     │ Archive │
│    (3 tasks)    │    (2 tasks)    │    (5 tasks)    │    →    │
├─────────────────┼─────────────────┼─────────────────┼─────────┤
│ ┌─────────────┐ │ ┌─────────────┐ │ ┌─────────────┐ │         │
│ │ #task-003   │ │ │ #task-001   │ │ │ #task-000   │ │         │
│ │ Unit Tests  │ │ │ Auth        │ │ │ Init        │ │         │
│ │             │ │ │             │ │ │ ✓ 5m        │ │         │
│ │ Pri: 1      │ │ │ ████████░░  │ │ └─────────────┘ │         │
│ │ Est: 2h     │ │ │ 60%         │ │                 │         │
│ └─────────────┘ │ │             │ │                 │         │
│ ┌─────────────┐ │ │ @worker-1   │ │                 │         │
│ │ #task-004   │ │ │ claude-code │ │                 │         │
│ │ Docs        │ │ └─────────────┘ │                 │         │
│ │             │ │ ┌─────────────┐ │                 │         │
│ │ Pri: 3      │ │ │ #task-002   │ │                 │         │
│ └─────────────┘ │ │ API Design  │ │                 │         │
│ ┌─────────────┐ │ │             │ │                 │         │
│ │ #task-005   │ │ │ ███░░░░░░░  │ │                 │         │
│ │ Performance │ │ │ 30%         │ │                 │         │
│ │             │ │ │             │ │                 │         │
│ │ Pri: 2      │ │ │ @worker-2   │ │                 │         │
│ └─────────────┘ │ │ gemini-cli  │ │                 │         │
│                 │ └─────────────┘ │                 │         │
└─────────────────┴─────────────────┴─────────────────┴─────────┘
```

**機能**:
| 機能 | 説明 |
|------|------|
| ドラッグ&ドロップ | カードをカラム間で移動 |
| カード詳細 | クリックで詳細モーダル表示 |
| フィルタ | タグ、Worker、優先度でフィルタ |
| ソート | 優先度、作成日、進捗でソート |
| 検索 | タスク説明を検索 |
| 一括操作 | 複数選択して移動/削除 |

**カード表示**:
```
┌─────────────────────┐
│ #task-001           │  ← タスクID
│ 認証機能の実装        │  ← 説明
│                     │
│ ████████░░ 60%      │  ← 進捗バー（In Progress時）
│                     │
│ @worker-1           │  ← Worker（割り当て時）
│ claude-code         │  ← エージェント名
│                     │
│ 🏷️ auth, backend    │  ← タグ
│ ⏱️ Est: 4h          │  ← 見積もり
└─────────────────────┘
```

---

### 2. Worker Monitor

**目的**: Workerの状態監視とログ閲覧

```
┌───────────────────────────────────────────────────────────────┐
│ 📊 Worker Monitor                              [+ Add Worker] │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ ┌───────────────────────────────────────────────────────────┐ │
│ │ ● worker-1                                      🟢 running │ │
│ │ Agent: claude-code                                         │ │
│ │ Task: #task-001 認証機能の実装                              │ │
│ │ Progress: ████████░░ 60%                                   │ │
│ │ Duration: 45m                                              │ │
│ │ [View Logs] [Stop]                                         │ │
│ └───────────────────────────────────────────────────────────┘ │
│                                                               │
│ ┌───────────────────────────────────────────────────────────┐ │
│ │ ● worker-2                                      🟢 running │ │
│ │ Agent: gemini-cli                                          │ │
│ │ Task: #task-002 API設計                                    │ │
│ │ Progress: ███░░░░░░░ 30%                                   │ │
│ │ Duration: 40m                                              │ │
│ │ [View Logs] [Stop]                                         │ │
│ └───────────────────────────────────────────────────────────┘ │
│                                                               │
│ ┌───────────────────────────────────────────────────────────┐ │
│ │ ○ worker-3                                         ⚪ idle │ │
│ │ Agent: codex-cli                                           │ │
│ │ Task: -                                                    │ │
│ │ [Assign Task]                                              │ │
│ └───────────────────────────────────────────────────────────┘ │
│                                                               │
└───────────────────────────────────────────────────────────────┘
```

**ログビューア**:
```
┌───────────────────────────────────────────────────────────────┐
│ 📝 Logs: worker-1                               [Auto-scroll] │
├───────────────────────────────────────────────────────────────┤
│ 10:05:00 [INFO] Started task #task-001                        │
│ 10:05:01 [INFO] Analyzing task requirements...                │
│ 10:10:00 [INFO] Created src/auth/login.go                     │
│ 10:10:05 [INFO] Implementing login handler...                 │
│ 10:30:00 [INFO] Progress: 40%                                 │
│ 10:45:00 [WARN] Dependency conflict detected                  │
│ 10:45:30 [INFO] Resolved: updated go.mod                      │
│ 10:50:00 [INFO] Progress: 60%                                 │
│ █                                                             │
└───────────────────────────────────────────────────────────────┘
```

---

### 3. Timeline View

**目的**: 作業履歴の時系列表示

```
┌───────────────────────────────────────────────────────────────┐
│ 📅 Timeline                              [Today] [This Week]  │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ 2025-12-10                                                    │
│ ──────────────────────────────────────────────────────────    │
│                                                               │
│ 09:00 ┃                                                       │
│       ┃                                                       │
│ 10:00 ┃ ○ オーケストレーション開始                              │
│       ┃ │                                                     │
│ 10:05 ┃ ├─● worker-1 起動                                     │
│       ┃ │  └─ #task-001 認証機能の実装                         │
│       ┃ │                                                     │
│ 10:10 ┃ ├─● worker-2 起動                                     │
│       ┃ │  └─ #task-002 API設計                               │
│       ┃ │                                                     │
│ 10:30 ┃ │  ├─ worker-1: 40% 完了                              │
│       ┃ │  │                                                  │
│ 10:45 ┃ │  ├─ worker-1: ⚠️ 依存関係の警告                      │
│       ┃ │  │                                                  │
│ 10:50 ┃ │  ├─ worker-1: 60% 完了                              │
│       ┃ │  │                                                  │
│ 11:00 ┃ │  └─ 現在                                            │
│       ┃                                                       │
└───────────────────────────────────────────────────────────────┘
```

---

## Support Features

### 4. Task Detail Modal

```
┌───────────────────────────────────────────────────────────────┐
│ Task Details                                              [×] │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ ID: #task-001                                                 │
│ ─────────────────────────────────────────────────────────     │
│                                                               │
│ Description:                                                  │
│ ┌───────────────────────────────────────────────────────────┐ │
│ │ 認証機能の実装                                              │ │
│ │ - ログインハンドラー                                        │ │
│ │ - セッション管理                                            │ │
│ │ - JWT トークン生成                                          │ │
│ └───────────────────────────────────────────────────────────┘ │
│                                                               │
│ Status: 🚀 In Progress                                        │
│ Worker: @worker-1 (claude-code)                               │
│ Branch: feature/task-001                                      │
│ Progress: ████████░░ 60%                                      │
│                                                               │
│ Priority: ⭐⭐⭐⭐⭐ (1)                                        │
│ Estimate: 4h                                                  │
│ Started: 2025-12-10 10:05                                     │
│ Duration: 55m                                                 │
│                                                               │
│ Files:                                                        │
│ • src/auth/login.go                                           │
│ • src/auth/session.go                                         │
│                                                               │
│ Tags: auth, backend, high-priority                            │
│                                                               │
│ Dependencies: -                                               │
│ Dependents: #task-003                                         │
│                                                               │
│ [Edit] [View Logs] [Stop Worker]                              │
│                                                               │
└───────────────────────────────────────────────────────────────┘
```

---

### 5. Settings Panel

```
┌───────────────────────────────────────────────────────────────┐
│ ⚙️ Settings                                               [×] │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ 📁 Project                                                    │
│ ─────────────────────────────────────────────────────────     │
│ Working Directory: /Users/me/project                          │
│ Kanban File: kanban.md                          [Change]      │
│                                                               │
│ 🎨 Appearance                                                 │
│ ─────────────────────────────────────────────────────────     │
│ Theme: [Auto ▼]   ○ Light  ○ Dark  ● System                  │
│ Compact Mode: [ ]                                             │
│                                                               │
│ 🔄 Sync                                                       │
│ ─────────────────────────────────────────────────────────     │
│ Auto-sync: [✓]                                                │
│ Sync Interval: [1000ms ▼]                                     │
│ Conflict Resolution: [Ask ▼]                                  │
│                                                               │
│ 🔗 AIDA Integration                                           │
│ ─────────────────────────────────────────────────────────     │
│ Socket Path: ~/.aida/aida.sock                                │
│ Status: 🟢 Connected                                          │
│                                                               │
│ 📊 Columns                                                    │
│ ─────────────────────────────────────────────────────────     │
│ [📝 To Do        ] [↑] [↓] [×]                               │
│ [🚀 In Progress  ] [↑] [↓] [×]                               │
│ [✅ Done         ] [↑] [↓] [×]                               │
│ [+ Add Column]                                                │
│                                                               │
│                                    [Reset] [Save]             │
└───────────────────────────────────────────────────────────────┘
```

---

### 6. Command Palette

`Ctrl+K` or `Cmd+K` で起動

```
┌───────────────────────────────────────────────────────────────┐
│ 🔍 _                                                          │
├───────────────────────────────────────────────────────────────┤
│ > Add new task                                     Ctrl+N     │
│ > Go to Kanban                                     Ctrl+1     │
│ > Go to Workers                                    Ctrl+2     │
│ > Go to Timeline                                   Ctrl+3     │
│ > Open settings                                    Ctrl+,     │
│ > Reload from file                                 Ctrl+R     │
│ > Toggle theme                                     Ctrl+T     │
│ > Start orchestration                              Ctrl+O     │
│ > Spawn worker                                     Ctrl+W     │
└───────────────────────────────────────────────────────────────┘
```

---

## Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| `Ctrl+K` | コマンドパレット |
| `Ctrl+N` | 新規タスク |
| `Ctrl+1` | Kanbanビュー |
| `Ctrl+2` | Workerビュー |
| `Ctrl+3` | Timelineビュー |
| `Ctrl+R` | ファイルから再読み込み |
| `Ctrl+S` | ファイルに保存 |
| `Ctrl+,` | 設定 |
| `Ctrl+/` | ショートカット一覧 |
| `Esc` | モーダルを閉じる |

---

## Responsive Design

### Desktop (>1024px)
- 3カラムレイアウト
- サイドパネル表示

### Tablet (768px-1024px)
- 2カラムレイアウト
- カラム切り替えタブ

### Mobile (<768px)
- 1カラムレイアウト
- ボトムナビゲーション
- スワイプでカラム切り替え

---

## Data Flow

```
┌─────────────┐      ┌─────────────┐      ┌─────────────┐
│  kanban.md  │ ←──→ │    Store    │ ←──→ │     UI      │
└─────────────┘      └─────────────┘      └─────────────┘
       ↑                    ↑                    │
       │                    │                    │
       │              ┌─────┴─────┐              │
       │              │   AIDA    │              │
       │              │  Socket   │              │
       │              └───────────┘              │
       │                                         │
       └─────────────────────────────────────────┘
              File Write (manual edit も可)
```

---

## Offline Support

- ファイルベースなので完全オフライン動作
- AIDA未接続でもKanban操作可能
- 再接続時に自動同期
